import com.jetbrains.rd.gradle.tasks.RunCmdTask
import com.jetbrains.rd.gradle.tasks.RunExecTask

task buildRdCpp(type: RunCmdTask) {
    workingDir '.'
    execPath = 'build.cmd'
}

task buildRdCppTest(type: RunCmdTask, dependsOn: [':generateEverything']) {
    workingDir '.'
    execPath 'buildtest.cmd'
}

task runCrossTestClientAllEntities(type: RunExecTask, dependsOn: ['buildRdCppTest']) {
    workingDir 'build/src/rd_gen_cpp/test/cross_test/Release/'
    execPath 'cross_test_client_all_entities'
    args "${rootProject.buildDir}/gold/CrossTestClientAllEntitiesKt.tmp"
}