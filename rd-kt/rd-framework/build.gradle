applyMultiplatform()

kotlin {
    sourceSets {
        commonMain {
            dependencies {
                api project(':rd-core')
            }
        }
        jvmTest {
            kotlin {
                srcDirs += ["${parent.buildDir}/models/interning"]
                srcDirs += ["${parent.buildDir}/models/demo"]
            }
        }
    }
    /*jvm() { //todo all targets
        compilations.create('integrationTest') {
            defaultSourceSet {
                dependencies {
                    def main = compilations.main
                    implementation(main.compileDependencyFiles + main.output.classesDirs)
                    implementation project(':rd-framework:')
                    kotlin.srcDir('src/integrationTest/kotlin')
                    kotlin.srcDirs += ["$project.buildDir/models/interning"]
                }
            }
        }
    }*/
}

compileTestKotlinJvm.dependsOn(':generateEverything')
